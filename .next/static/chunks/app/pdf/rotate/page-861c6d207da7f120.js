(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{235:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(5155),s=r(2115),n=r(489),l=r(3101),i=r(5016);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,i.cn)(c(),r),...s})});d.displayName=n.b.displayName},2432:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155),s=r(2115),n=r(2896),l=r(5299);function i(e){let{file:t,pageNumber:r=1,width:i=150,height:c=200,className:d=""}=e,o=(0,s.useRef)(null),[u,m]=(0,s.useState)(!0),[f,h]=(0,s.useState)(null),{pdfDoc:p,loading:x,error:j}=(0,n.De)(t),v=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=!0;async function t(){if(p&&o.current)try{m(!0),h(null);let t=await p.getPage(r),a=o.current;if(!a||!e)return;let s=a.getContext("2d");if(!s)return;let n=t.getViewport({scale:1}),l=Math.min(i/n.width,c/n.height),d=t.getViewport({scale:l});a.width=d.width,a.height=d.height,v.current=t.render({canvasContext:s,viewport:d}),await v.current.promise,e&&m(!1)}catch(t){if((null==t?void 0:t.name)==="RenderingCancelledException")return;console.error("Error rendering PDF page:",t),e&&(h("Failed to render page"),m(!1))}}return p&&t(),()=>{if(e=!1,v.current)try{v.current.cancel()}catch(e){}}},[p,r,i,c]);let g=x||u,y=j||f;return(0,a.jsxs)("div",{className:"relative bg-muted rounded-md overflow-hidden ".concat(d),style:{width:i,height:c},children:[g&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),y&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-2",children:(0,a.jsx)("p",{className:"text-xs text-center text-destructive",children:y})}),(0,a.jsx)("canvas",{ref:o,className:"max-w-full max-h-full ".concat(g||y?"opacity-0":"opacity-100")})]})}},2814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>er});var a=r(5155),s=r(2115),n=r(63),l=r(1972),i=r(5209),c=r(3209),d=r(7003),o=r(235),u=r(2556),m=r(4446),f=r(3468),h=r(7602),p=r(2431),x=r(3558),j=r(6218),v=r(4288),g=r(8108),y=r(6842),b="Radio",[w,N]=(0,f.A)(b),[k,R]=w(b),C=s.forwardRef((e,t)=>{let{__scopeRadio:r,name:n,checked:l=!1,required:i,disabled:c,value:d="on",onCheck:o,form:f,...p}=e,[x,j]=s.useState(null),v=(0,m.s)(t,e=>j(e)),g=s.useRef(!1),y=!x||f||!!x.closest("form");return(0,a.jsxs)(k,{scope:r,checked:l,disabled:c,children:[(0,a.jsx)(h.sG.button,{type:"button",role:"radio","aria-checked":l,"data-state":D(l),"data-disabled":c?"":void 0,disabled:c,value:d,...p,ref:v,onClick:(0,u.m)(e.onClick,e=>{l||null==o||o(),y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),y&&(0,a.jsx)(F,{control:x,bubbles:!g.current,name:n,value:d,checked:l,required:i,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});C.displayName=b;var E="RadioIndicator",A=s.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:s,...n}=e,l=R(E,r);return(0,a.jsx)(y.C,{present:s||l.checked,children:(0,a.jsx)(h.sG.span,{"data-state":D(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:t})})});A.displayName=E;var F=e=>{let{control:t,checked:r,bubbles:n=!0,...l}=e,i=s.useRef(null),c=(0,g.Z)(r),d=(0,v.X)(t);return s.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let a=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(a)}},[c,r,n]),(0,a.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function D(e){return e?"checked":"unchecked"}var P=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S="RadioGroup",[L,M]=(0,f.A)(S,[p.RG,N]),B=(0,p.RG)(),G=N(),[q,z]=L(S),O=s.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:s,defaultValue:n,value:l,required:i=!1,disabled:c=!1,orientation:d,dir:o,loop:u=!0,onValueChange:m,...f}=e,v=B(r),g=(0,j.jH)(o),[y,b]=(0,x.i)({prop:l,defaultProp:n,onChange:m});return(0,a.jsx)(q,{scope:r,name:s,required:i,disabled:c,value:y,onValueChange:b,children:(0,a.jsx)(p.bL,{asChild:!0,...v,orientation:d,dir:g,loop:u,children:(0,a.jsx)(h.sG.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":c?"":void 0,dir:g,...f,ref:t})})})});O.displayName=S;var I="RadioGroupItem",U=s.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:n,...l}=e,i=z(I,r),c=i.disabled||n,d=B(r),o=G(r),f=s.useRef(null),h=(0,m.s)(t,f),x=i.value===l.value,j=s.useRef(!1);return s.useEffect(()=>{let e=e=>{P.includes(e.key)&&(j.current=!0)},t=()=>j.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,a.jsx)(p.q7,{asChild:!0,...d,focusable:!c,active:x,children:(0,a.jsx)(C,{disabled:c,required:i.required,checked:x,...o,...l,name:i.name,ref:h,onCheck:()=>i.onValueChange(l.value),onKeyDown:(0,u.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,u.m)(l.onFocus,()=>{var e;j.current&&(null==(e=f.current)||e.click())})})})});U.displayName=I;var _=s.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...s}=e,n=G(r);return(0,a.jsx)(A,{...n,...s,ref:t})});_.displayName="RadioGroupIndicator";var V=r(9051),Z=r(5016);let $=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(O,{className:(0,Z.cn)("grid gap-2",r),...s,ref:t})});$.displayName=O.displayName;let J=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(U,{ref:t,className:(0,Z.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:(0,a.jsx)(_,{className:"flex items-center justify-center",children:(0,a.jsx)(V.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});J.displayName=U.displayName;var T=r(5626),X=r(1786),H=r(5229),K=r(5299),W=r(3141),Q=r(8728),Y=r(8171),ee=r(2432),et=r(2896);function er(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[f,h]=(0,s.useState)("90"),[p,x]=(0,s.useState)(!1),{toast:j}=(0,Y.dj)(),v=(0,s.useRef)(null),g=()=>{t&&(0,et.n4)(t),r(null),v.current&&(v.current.value="")},y=async()=>{if(!t)return void j({title:"Error",description:"Please select a PDF file",variant:"destructive"});x(!0);try{let e=await (0,Q.qe)(t,parseInt(f)),r=window.URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download="rotated-".concat(f,"deg.pdf"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a),j({title:"Success",description:"Successfully rotated PDF by ".concat(f,"\xb0")})}catch(e){j({title:"Error",description:"Failed to rotate PDF. Please try again.",variant:"destructive"})}finally{x(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(l.Y,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsx)(i.Q,{items:[{label:"Rotate PDF",href:"#"}]}),(0,a.jsxs)("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Rotate PDF"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Rotate all pages in your PDF"})]}),(0,a.jsxs)(d.$,{variant:"outline",onClick:()=>e.push("/"),"data-testid":"button-back",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Back"]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Upload PDF File"}),(0,a.jsx)(c.BT,{children:"Select a PDF file to rotate"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-md p-12 text-center transition-colors ".concat(u?"border-primary bg-primary/5":"border-border"),onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:()=>{m(!1)},onDrop:e=>{e.preventDefault(),m(!1);let a=Array.from(e.dataTransfer.files).filter(e=>"application/pdf"===e.type);a.length>0&&(t&&(0,et.n4)(t),r(a[0]))},"data-testid":"dropzone-pdf",children:[(0,a.jsx)(X.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Drag and drop file here"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"or"}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{ref:v,type:"file",accept:".pdf,application/pdf",onChange:e=>{let a=Array.from(e.target.files||[]);a.length>0&&(t&&(0,et.n4)(t),r(a[0])),v.current&&(v.current.value="")},className:"hidden","data-testid":"input-file"}),(0,a.jsx)(d.$,{variant:"outline",asChild:!0,children:(0,a.jsx)("span",{children:"Browse Files"})})]})]}),t&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Selected File"}),(0,a.jsxs)(d.$,{size:"sm",variant:"ghost",onClick:g,"data-testid":"button-remove-file",children:[(0,a.jsx)(H.A,{className:"h-4 w-4 mr-2"}),"Remove"]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(ee.A,{file:t,pageNumber:1,width:120,height:150})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[(0,a.jsx)("p",{className:"font-medium truncate","data-testid":"file-name",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground","data-testid":"file-size",children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]})(t.size)})]})]})]})]})]}),t&&(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Rotation Angle"}),(0,a.jsx)(c.BT,{children:"Select the rotation angle for all pages"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)($,{value:f,onValueChange:e=>h(e),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(J,{value:"90",id:"r90","data-testid":"radio-90"}),(0,a.jsx)(o.J,{htmlFor:"r90",className:"cursor-pointer",children:"90\xb0 clockwise"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(J,{value:"180",id:"r180","data-testid":"radio-180"}),(0,a.jsx)(o.J,{htmlFor:"r180",className:"cursor-pointer",children:"180\xb0"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(J,{value:"270",id:"r270","data-testid":"radio-270"}),(0,a.jsx)(o.J,{htmlFor:"r270",className:"cursor-pointer",children:"270\xb0 clockwise (90\xb0 counter-clockwise)"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)(d.$,{className:"flex-1",onClick:y,disabled:p,"data-testid":"button-rotate",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Rotate PDF"]})}),(0,a.jsx)(d.$,{variant:"outline",onClick:g,disabled:p,"data-testid":"button-clear",children:"Clear"})]})]})})]})]})]})]})}},2896:(e,t,r)=>{"use strict";r.d(t,{De:()=>i,n4:()=>d,zm:()=>c});var a=r(2115);let s=new Map;function n(e){return"".concat(e.name,"-").concat(e.size,"-").concat(e.lastModified)}async function l(e,t){let{getPdfJs:a}=await Promise.resolve().then(r.bind(r,8728)),n=await a(),l=await e.arrayBuffer(),i=n.getDocument({data:l}),c=await i.promise,d=s.get(t);return d&&(d.document=c),c}function i(e){let[t,r]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let t=!0;return async function(){let a=n(e);try{o(!0),c(null);let n=s.get(a);n||(n={promise:l(e,a),document:null},s.set(a,n));let i=await n.promise;t&&(r(i),o(!1))}catch(e){console.error("Error loading PDF document:",e),console.error("Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,name:e instanceof Error?e.name:void 0}),s.delete(a),t&&(c(e instanceof Error?e.message:"Failed to load PDF"),o(!1))}}(),()=>{t=!1}},[e]),{pdfDoc:t,loading:d,error:i}}async function c(e){let t=n(e),r=s.get(t);return r||(r={promise:l(e,t),document:null},s.set(t,r)),(await r.promise).numPages}function d(e){let t=n(e),r=s.get(t);if(null==r?void 0:r.document)try{r.document.destroy()}catch(e){}s.delete(t)}},3141:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},3970:(e,t,r)=>{Promise.resolve().then(r.bind(r,2814))},5229:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9051:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}},e=>{e.O(0,[489,545,211,519,972,661,441,255,358],()=>e(e.s=3970)),_N_E=e.O()}]);