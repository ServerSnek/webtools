(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{235:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var s=r(5155),a=r(2115),n=r(489),d=r(3101),l=r(5016);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(i(),r),...a})});o.displayName=n.b.displayName},1972:(e,t,r)=>{"use strict";r.d(t,{Y:()=>p});var s=r(5155),a=r(6651),n=r(7494),d=r(9427),l=r(7003),i=r(5293);function o(){let{theme:e,toggleTheme:t}=(0,i.D)();return(0,s.jsx)(l.$,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-theme-toggle","aria-label":"Toggle theme",children:"light"===e?(0,s.jsx)(n.A,{className:"h-5 w-5"}):(0,s.jsx)(d.A,{className:"h-5 w-5"})})}var c=r(6170),m=r(2619),u=r.n(m);function p(e){let{onSearch:t}=e;return(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container mx-auto flex h-16 items-center gap-4 px-4",children:[(0,s.jsx)(u(),{href:"/","data-testid":"link-home",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 hover-elevate active-elevate-2 rounded-md px-3 py-2 -ml-3 cursor-pointer",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-primary text-primary-foreground font-bold text-lg",children:"iE"}),(0,s.jsx)("span",{className:"font-bold text-xl hidden sm:inline",children:"iEditOnline"})]})}),(0,s.jsx)("div",{className:"flex-1 max-w-md",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(c.p,{type:"search",placeholder:"Search tools...",className:"pl-9","data-testid":"input-search",onChange:e=>null==t?void 0:t(e.target.value)})]})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(o,{})})]})})}},2336:(e,t,r)=>{Promise.resolve().then(r.bind(r,7952))},3209:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>l});var s=r(5155),a=r(2115),n=r(5016);let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",r),...a})});d.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2821),a=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},5209:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var s=r(5155),a=r(7937),n=r(2619),d=r.n(n);function l(e){let{items:t}=e;return(0,s.jsxs)("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[(0,s.jsx)(d(),{href:"/","data-testid":"breadcrumb-home",children:(0,s.jsx)("span",{className:"hover:text-foreground transition-colors cursor-pointer",children:"Home"})}),t.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.A,{className:"h-4 w-4"}),r===t.length-1||"#"===e.href?(0,s.jsx)("span",{className:"text-foreground font-medium","data-testid":"breadcrumb-".concat(e.label.toLowerCase().replace(/ /g,"-")),children:e.label}):(0,s.jsx)(d(),{href:e.href,"data-testid":"breadcrumb-".concat(e.label.toLowerCase().replace(/ /g,"-")),children:(0,s.jsx)("span",{className:"hover:text-foreground transition-colors cursor-pointer",children:e.label})})]},r))]})}},5293:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,ThemeProvider:()=>d});var s=r(5155),a=r(2115);let n=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[r,d]=(0,a.useState)("light"),[l,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{i(!0);let e=localStorage.getItem("theme");e&&d(e)},[]),(0,a.useEffect)(()=>{if(l){let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(r),localStorage.setItem("theme",r)}},[r,l]),(0,s.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{d(e=>"light"===e?"dark":"light")}},children:t})}function l(){let e=(0,a.useContext)(n);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},6170:(e,t,r)=>{"use strict";r.d(t,{p:()=>d});var s=r(5155),a=r(2115),n=r(5016);let d=a.forwardRef((e,t)=>{let{className:r,type:a,...d}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...d})});d.displayName="Input"},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(5155),a=r(2115),n=r(2467),d=r(3101),l=r(5016);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:d,asChild:o=!1,...c}=e,m=o?n.DX:"button";return(0,s.jsx)(m,{className:(0,l.cn)(i({variant:a,size:d,className:r})),ref:t,...c})});o.displayName="Button"},7952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var s=r(5155),a=r(2115),n=r(63),d=r(1972),l=r(5209),i=r(3209),o=r(7003),c=r(6170),m=r(235),u=r(3190),p=r(4033),f=r(2108),x=r(5917),h=r(5016);let g=u.bL;u.YJ;let b=u.WT,v=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(u.l9,{ref:t,className:(0,h.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[a,(0,s.jsx)(u.In,{asChild:!0,children:(0,s.jsx)(p.A,{className:"h-4 w-4 opacity-50"})})]})});v.displayName=u.l9.displayName;let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(u.PP,{ref:t,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(f.A,{className:"h-4 w-4"})})});j.displayName=u.PP.displayName;let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(u.wn,{ref:t,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})});w.displayName=u.wn.displayName;let y=a.forwardRef((e,t)=>{let{className:r,children:a,position:n="popper",...d}=e;return(0,s.jsx)(u.ZL,{children:(0,s.jsxs)(u.UC,{ref:t,className:(0,h.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...d,children:[(0,s.jsx)(j,{}),(0,s.jsx)(u.LM,{className:(0,h.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(w,{})]})})});y.displayName=u.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(u.JU,{ref:t,className:(0,h.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=u.JU.displayName;let N=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(u.q7,{ref:t,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(u.VF,{children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})}),(0,s.jsx)(u.p4,{children:a})]})});N.displayName=u.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(u.wv,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=u.wv.displayName;var S=r(5626),T=r(1786),P=r(9715),A=r(5229),D=r(9708),C=r(5299),k=r(8171);function R(){let e=(0,n.useRouter)(),{toast:t}=(0,k.dj)(),[r,u]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[x,h]=(0,a.useState)(""),[j,w]=(0,a.useState)("128"),[R,E]=(0,a.useState)(!1),F=()=>{u(null),h("")},_=async()=>{if(!r)return void t({title:"Error",description:"Please select a PDF file.",variant:"destructive"});if(!x||""===x.trim())return void t({title:"Validation",description:"Password is required to protect the PDF.",variant:"destructive"});E(!0);try{let e=new FormData;e.append("fileInput",r),e.append("ownerPassword",x),e.append("password",x),e.append("keyLength",j);let s=await fetch("".concat("http://13.204.116.49:8080","/api/v1/security/add-password"),{method:"POST",body:e});if(!s.ok){let e=await s.text().catch(()=>null);throw Error(e||"Server returned ".concat(s.status))}let a=await s.blob(),n=s.headers.get("Content-Disposition")||s.headers.get("content-disposition"),d=r.name.replace(/\.pdf$/i,"_passworded.pdf"),l=function(e,t){if(!e)return t;let r=e.match(/filename\*?=(?:UTF-8'')?["']?([^"';]+)/i);return r?decodeURIComponent(r[1]):t}(n,d),i=window.URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=l,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(i),t({title:"Protected",description:"PDF protected and downloaded."})}catch(e){console.error("Protect PDF error:",e),t({title:"Error",description:e instanceof Error?e.message:"Failed to protect PDF.",variant:"destructive"})}finally{E(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(d.Y,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,s.jsx)(l.Q,{items:[{label:"Protect PDF",href:"#"}]}),(0,s.jsxs)("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Protect PDF"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Add password protection to your PDF files"})]}),(0,s.jsxs)(o.$,{variant:"outline",onClick:()=>e.push("/"),children:[(0,s.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Back"]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Upload PDF File"}),(0,s.jsx)(i.BT,{children:"Select or drag and drop a PDF file to protect"})]}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-md p-12 text-center transition-colors ".concat(p?"border-primary bg-primary/5":"border-border"),onDragOver:e=>{e.preventDefault(),f(!0)},onDragLeave:()=>{f(!1)},onDrop:e=>{e.preventDefault(),f(!1);let t=Array.from(e.dataTransfer.files).filter(e=>"application/pdf"===e.type);t.length>0&&u(t[0])},children:[(0,s.jsx)(T.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Drag and drop file here"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"or"}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"file",accept:".pdf,application/pdf",onChange:e=>{let t=Array.from(e.target.files||[]);t.length>0&&u(t[0]),e.currentTarget.value=""},className:"hidden","data-testid":"input-file"}),(0,s.jsx)(o.$,{variant:"outline",asChild:!0,children:(0,s.jsx)("span",{children:"Browse Files"})})]})]}),r&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Selected File"}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)(P.A,{className:"h-5 w-5 text-primary flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate",children:r.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]})(r.size)})]})]}),(0,s.jsx)(o.$,{size:"icon",variant:"ghost",onClick:F,"aria-label":"Remove file",children:(0,s.jsx)(A.A,{className:"h-4 w-4"})})]})]})]})]}),r&&(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Protection Settings"}),(0,s.jsx)(i.BT,{children:"Configure password and encryption level"})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.J,{htmlFor:"password",children:"Password"}),(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(D.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(c.p,{id:"password",type:"password",placeholder:"Enter password to protect PDF",value:x,onChange:e=>h(e.target.value),className:"pl-9","data-testid":"input-password"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"This password will be required to open the PDF file"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.J,{htmlFor:"encryption",children:"Encryption Level"}),(0,s.jsxs)(g,{value:j,onValueChange:e=>w(e),children:[(0,s.jsx)(v,{id:"encryption",children:(0,s.jsx)(b,{placeholder:"Select encryption level"})}),(0,s.jsxs)(y,{children:[(0,s.jsx)(N,{value:"128",children:"128-bit (Standard)"}),(0,s.jsx)(N,{value:"256",children:"256-bit (High Security)"})]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Higher encryption provides better security"})]})]})]}),r&&(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(o.$,{className:"flex-1",onClick:_,disabled:R||!x,"data-testid":"button-protect",children:R?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Protecting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Protect PDF"]})}),(0,s.jsx)(o.$,{variant:"outline",onClick:F,disabled:R,children:"Clear"})]})]})]})]})}},8171:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(2115);let a=0,n=new Map,d=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=[],i={toasts:[]};function o(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?d(r):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),l.forEach(e=>{e(i)})}function c(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:r});return o({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(i);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}}},e=>{e.O(0,[545,211,921,330,441,255,358],()=>e(e.s=2336)),_N_E=e.O()}]);